<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Restful-bulksms by RbkGh</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Restful-bulksms</h1>
        <h2>Fully Restful Bulksms Api with MongoDb</h2>

        <section id="downloads">
          <a href="https://github.com/RbkGh/Restful-BulkSMS/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/RbkGh/Restful-BulkSMS/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/RbkGh/Restful-BulkSMS" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <p><em># I cashed out on this project,As it's not my primary business,guess I just had to share ..=D =D</em></p>

<h1>
<a id="-just-run-the-following-homie-" class="anchor" href="#-just-run-the-following-homie-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a># just run the following ,Homie :</h1>

<p>in Root folder of project,type:</p>

<p>1.<strong>gradle build</strong></p>

<p>2.find application.properties file in src/main/java/resources/ folder
edit this to suit the url of your mongo installation</p>

<p>3.<strong>gradle bootRun</strong></p>

<p>u can then access the endpoints from <strong>localhost:8080/</strong>
you can insert a userName and password in your MongoDb with
 <strong>db.getCollection('GeneralUserDoc').find({"userName":"r2","password":"222"})</strong></p>

<p>afterwards,for eg,to authenticate,just post <strong>{"userName":"r2","password":"222"}</strong> to
<strong>localhost:8080/auth</strong> with consumes header of <strong>application/json</strong>.</p>

<p>`public OutgoingPayload createMultipleGroupContacts(BulkGroupContactsCreationRequest bulkGroupContactsCreationRequest) {
        log.info("Create Multiple GroupContact Request aka Upload Multiple Contacts  : {}", g.toJson(bulkGroupContactsCreationRequest));
        OutgoingPayload outgoingPayload;</p>

<pre><code>    String groupId = bulkGroupContactsCreationRequest.getGroupId();
    String userName = bulkGroupContactsCreationRequest.getUserName();
    List&lt;GroupContactsDoc&gt; iterableGroupContacts = bulkGroupContactsCreationRequest.getContactsList();
    log.info("Raw contacts List number before duplicate numbers removed = " + iterableGroupContacts.size());

    List&lt;GroupContactsDoc&gt; newlySetGroupIdAndUserNameContactsDoc = new ArrayList&lt;&gt;(0);

    //set groupId and userName for each since user will not set GroupId with each contact List element
    for (GroupContactsDoc groupContactsDocElement : iterableGroupContacts) {
        groupContactsDocElement.setGroupId(groupId);
        groupContactsDocElement.setUserName(userName);
        newlySetGroupIdAndUserNameContactsDoc.add(groupContactsDocElement);
    }
    log.info("Newly sorted list,with set groupId and Username = " + newlySetGroupIdAndUserNameContactsDoc.size());
    //sort and remove duplicates Initial
    List&lt;GroupContactsDoc&gt; removeInitialDuplicates = removeDuplicateContactsInitial(newlySetGroupIdAndUserNameContactsDoc);
    log.info("Newly sorted List with Duplicates Removed Stage1 = " + removeInitialDuplicates.size() + " contacts");

    List&lt;GroupContactsDoc&gt; groupContactsDocListFinallySaved =
            removeDuplicatesFromIncomingListByCheckingDBListAndSave(removeInitialDuplicates);
    int noOfSavedContacts = groupContactsDocListFinallySaved.size();
    log.info("no of final list saved in db = " + noOfSavedContacts);

    if (noOfSavedContacts == 0) {
        outgoingPayload = new SuccessfulOutgoingPayload("Nothing was saved because the contacts exist already", null);
    } else {
        outgoingPayload = new SuccessfulOutgoingPayload(noOfSavedContacts + " saved Successfully");
    }


    return outgoingPayload;
}`
</code></pre>

<p><em>Now have fun confusing yourself....Regards!!</em></p>
      </section>
    </div>

    
  </body>
</html>
